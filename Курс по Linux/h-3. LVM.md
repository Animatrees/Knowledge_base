**LVM (Logical Volume Manager)** представляет собой технологию управления логическими томами, которая добавляет гибкость и уровни абстракции при работе с хранилищем данных на уровне операционной системы.

**Основные черты LVM включают:**

- **Логические тома (Logical Volumes):** LVM позволяет создавать логические тома, которые могут быть изменены в размере и перемещены без необходимости пересоздавать файловую систему.
- **Физические тома (Physical Volumes):** Физические устройства (жесткие диски, разделы или RAID-массивы) объединяются в физические тома, которые затем могут быть использованы для создания логических томов.
- **Группы томов (Volume Groups):** Физические тома объединяются в группы томов, что предоставляет абстракцию для эффективного управления хранилищем.

**Основные цели и преимущества LVM включают:**

- **Гибкость изменения размера:** Возможность динамического изменения размера логических томов без необходимости перезапуска системы.
- **Уровни абстракции:** Использование уровней абстракции для разделения физического хранилища от логических объемов, что облегчает управление данными.
- **Снимки (Snapshots):** Возможность создавать моментальные снимки файловых систем, что полезно для резервного копирования и тестирования.
- **Удобное управление хранилищем:** Простота управления хранилищем через утилиты LVM, позволяющие администраторам эффективно управлять хранилищем данных.
- **Интеграция с RAID:** Возможность комбинирования LVM с RAID для повышения отказоустойчивости хранилища.

### Пошаговая процедура создания логических томов с использованием LVM

1. **Установка LVM:**
    
    ```Shell
    sudo apt install lvm2    
    # Установка LVM (если не установлено)
    ```
    
2. **Создание физических томов:**
    
    ```Shell
    sudo pvcreate /dev/sdX    
    # Создание физического тома на устройстве /dev/sdX
    
    sudo pvdisplay                  
    # Вывод информации о физических томах
    ```
    
3. **Создание группы томов:**
    
    ```Shell
    sudo vgcreate my_vg /dev/sdX    
    # Создание группы томов с именем my_vg на физическом томе /dev/sdX
    
    sudo vgdisplay                   
    # Вывод информации о группах томов
    sudo vgs                         
    # Вывод списка групп томов
    ```
    
4. **Создание логического тома:**
    
    ```Shell
    sudo lvcreate -L 10G -n my_lv my_vg    
    # Создание логического тома с именем my_lv, линейного типа,
    # используя 10Gb пространства в группе томов my_vg
    
    sudo lvdisplay                               
    # Вывод информации о логических томах
    sudo lvs                                     
    # Вывод списка логических томов
    ```
    
5. **Создание файловой системы на логическом томе:**
    
    ```Shell
    sudo mkfs.ext4 /dev/my_vg/my_lv    
    # Создание файловой системы ext4 на логическом томе /dev/my_vg/my_lv
    ```
    
6. **Монтирование файловой системы:**
    
    ```Shell
    sudo mkdir /mnt/my_mountpoint         
    # Создание точки монтирования (директории)
    sudo mount /dev/my_vg/my_lv /mnt/my_mountpoint    
    # Монтирование файловой системы на логический том в указанную директорию
    ```
    
7. **Изменение размера логического тома и файловой системы:**
    
    - **Изменение размера логического тома:**
        
        ```Shell
        sudo lvresize -L +2G /dev/my_vg/my_lv    
        # Увеличение размера логического тома на 2 ГБ
        ```
        
    - **Изменение размера файловой системы:**
        
        ```Shell
        sudo resize2fs /dev/my_vg/my_lv    
        # Изменение размера файловой системы для соответствия новому размеру тома
        ```
        
    
    В Linux, устройства с использованием LVM могут быть представлены двумя основными путями:
    
    1. **/dev/my_vg/my_lv:**  
        Этот путь предоставляет прямой доступ к логическому тому внутри группы томов.  
        
    2. **/dev/mapper/my_vg-my_lv:**  
        Этот путь предоставляется через узел устройства  
        `**/dev/mapper/**`. Это абстракция, созданная для удобства использования и управления логическими томами и другими устройствами, такими как шифрованные тома.
    
    Оба пути указывают на одно и то же устройство, и использование одного из них зависит от предпочтений администратора или конкретных требований системы. Например, при автоматизированных сценариях или в конфигурационных файлах, часто удобнее использовать `**/dev/mapper/**`, так как он предоставляет более универсальное представление.

<div class="page-break" style="page-break-before: always;"></div>
