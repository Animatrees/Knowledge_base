Инструменты для проверки интерфейсов

Инструменты для проверки сети

Инструменты для проверки DNS

Инструменты для проверки портов

### Инструменты для проверки интерфейсов

1. **ip link**:
    
    Команда `**ip link**` показывает список всех сетевых интерфейсов на компьютере, включая их статус (UP/DOWN) и MAC-адреса.
    
    **Некоторые возможные типы интерфейсов в выводе команды:**
    
    1. **Ethernet интерфейсы**:
        - Обозначение: `**ethX**`, где X - числовой идентификатор интерфейса (например, `**eth0**`, `**eth1**`).
        - Описание: Ethernet-интерфейсы используются для подключения к проводным сетям и обычно имеют физическое соединение через сетевой кабель.
    2. **Беспроводные интерфейсы (Wi-Fi)**:
        - Обозначение: `**wlanX**` или `**wlpXsY**`, где X - числовой идентификатор интерфейса, Y - порядковый номер интерфейса.
        - Описание: Беспроводные интерфейсы используются для подключения к беспроводным Wi-Fi сетям.
    3. **Локальный интерфейс (Loopback)**:
        - Обозначение: `**lo**`.
        - Описание: Локальный интерфейс представляет собой виртуальный интерфейс, который используется для обратной связи с самим компьютером. Он обычно имеет IP-адрес `**127.0.0.1**` и предназначен для тестирования и локального взаимодействия.
    4. **Туннельные интерфейсы**:
        - Обозначение: `**tunX**`, `**tapX**`.
        - Описание: Туннельные интерфейсы используются для создания виртуальных сетевых туннелей между компьютерами или сетями. Они могут быть использованы для VPN, IP-туннелирования и других целей.
    5. **Виртуальные Ethernet интерфейсы**:
        - Обозначение: `**vethX**`.
        - Описание: Виртуальные Ethernet интерфейсы используются в виртуализированных окружениях для связи между виртуальными машинами и хостовой системой.
    
    **Troubleshooting**:
    
    - **Список интерфейсов:** Посмотрите список интерфейсов, предоставленный командой `**ip link**`. Если вы не видите ожидаемого интерфейса, это может указывать на проблемы с оборудованием или драйверами.
    - **Тип интерфейса:** Убедитесь, что тип интерфейса соответствует ожиданиям. Например, если вы ожидаете увидеть Ethernet-интерфейс, а в списке есть только беспроводные интерфейсы, это может указывать на проблему с подключением к сети.
    - **Статус интерфейса:** Статус каждого интерфейса отображается в столбце `**state**`. Если интерфейс активен и работает нормально, вы увидите `**UP**`. Если есть проблемы с интерфейсом, он может отображаться как `**DOWN**`. Если интерфейс находится в состоянии `**DOWN**`, попробуйте включить его с помощью команды `**sudo ip link set <interface> up**`, где `**<interface>**` - это имя интерфейса, который вы хотите включить.
    - **MAC-адрес интерфейса:** Убедитесь, что MAC-адрес интерфейса корректен. Неправильный MAC-адрес может указывать на проблемы с аппаратным обеспечением или настройками драйвера.
    - **Другие параметры:** Команда `**ip link**` также может показывать другие параметры интерфейса, такие как MTU (максимальный размер передаваемого пакета), Qdisc (дисциплина очереди) и т.д. Просмотр этих параметров может помочь выявить другие потенциальные проблемы с интерфейсом.
2. **ip addr**:
    
    Команда `**ip addr**` отображает конфигурацию IP-адресов для всех сетевых интерфейсов.
    
    **Troubleshooting**:
    
    - **IP-адреса и маски подсети**: Команда `**ip addr**` показывает IP-адреса, присвоенные интерфейсам, а также их маски подсети. Если IP-адрес не отображается или он отображается некорректно, это может указывать на проблемы с настройками сетевых интерфейсов или DHCP.
    - **Конфликты IP-адресов:** Если в сети присутствуют два или более устройства с одинаковыми IP-адресами, это может привести к конфликту адресов.
3. **ifconfig**:
    
    Устаревшая команда `**ifconfig**` также может использоваться для просмотра информации о сетевых интерфейсах и их конфигурации, включая IP-адреса. Однако, рекомендуется использовать `**ip addr**`, так как она является более современной.
    
4. **ip route**:
    
    Команда `**ip route**` используется для просмотра таблицы маршрутизации на устройстве. Эта таблица содержит информацию о том, каким образом пакеты данных должны быть направлены через сеть.
    
    **Troubleshooting**:
    
    - **Проверьте маршрут по умолчанию:** Обратите внимание на строку, начинающуюся с `**default**`, которая обычно указывает на маршрут по умолчанию. Убедитесь, что этот маршрут правильно настроен и указывает на правильный шлюз по умолчанию.
5. **route**:
    - Команда `**route**` также отображает таблицу маршрутизации, но это устаревшая команда и не рекомендуется для использования. Лучше использовать `**ip route**`.

### Инструменты для проверки сети

1. **ping**:
    
    Команда **`ping`** в сетевой диагностике используется для проверки доступности удаленного узла в сети. Путем отправки эхо-запросов (ICMP пакетов) на удаленный хост и ожидания ответов, **`ping`** определяет, возможно ли установить связь с этим хостом и каково время отклика. Это позволяет проверить работоспособность сетевого соединения, диагностировать проблемы с сетевой связностью, определить задержки и потери пакетов, а также установить качество сетевого соединения между двумя узлами.
    
    **Troubleshooting**:
    
    - **Проверка связности с удаленным узлом:** Выполните `**ping**` с IP-адресом или доменным именем удаленного ресурса. Если `**ping**` успешен (получены ответы от удаленного узла), это означает, что между вашим компьютером и удаленным ресурсом нет проблем с сетевой связностью.
    - **Определение времени отклика:** По умолчанию `**ping**` также измеряет время, за которое пакеты доставляются до удаленного узла и обратно (RTT - round-trip time). Это может помочь в определении задержек или проблем сетевой связности.
    - **Использование параметров для дополнительной информации:** `**ping**` имеет различные параметры, такие как количество пакетов для отправки (`**-c**`), время между пакетами (`**-i**`), размер пакета (`**-s**`), и т. д. Эти параметры могут быть использованы для получения дополнительной информации о сетевом соединении.
2. **arp -vn:**
    
    Команда **`arp`** в сетевой диагностике используется для отображения таблицы ARP (Address Resolution Protocol) на компьютере. ARP-таблица содержит соответствия между IP-адресами и MAC-адресами устройств в локальной сети. При выполнении **`arp -vn`** отображаются подробные сведения о каждой записи в таблице, включая IP-адреса, MAC-адреса, тип интерфейса и время жизни записи. Эта команда полезна для отслеживания связей между сетевыми устройствами, анализа сетевой топологии, диагностики проблем с сетевым соединением и обнаружения атак типа ARP Spoofing.
    
3. **traceroute -l -n example.com:**
    
    Команда **`traceroute`** используется для отслеживания маршрута, который пакеты данных проходят от исходного узла до удаленного узла в сети. Это позволяет определить путь, которым пакеты следуют через сеть, и выявить любые узкие места или проблемные участки. Traceroute отправляет пакеты с различными TTL (временем жизни) значениями и анализирует ответы от промежуточных маршрутизаторов, чтобы определить маршрут и время задержки до каждого узла.
    
    **Troubleshooting:**
    
    - **Анализ результатов:** После выполнения команды, вы увидите последовательность узлов (маршрут), которые пакеты проходят от вашего узла к целевому. Каждая строка представляет собой узел на пути, а также время задержки (ping) до этого узла.
    - **Оценка времени задержки:** Посмотрите на столбец времени задержки. Большие значения могут указывать на проблемы в сети. Если вы видите долгое время задержки на конкретном узле, это может свидетельствовать о проблемах на этом участке маршрута.
    - **Исследование узлов:** Изучите узлы, на которых возникают проблемы. Это может помочь определить, где именно возникают сетевые проблемы, и предоставить информацию для дополнительного анализа.
4. **tracepath -n example.com:**
    
    Команда **`tracepath`**, аналогично traceroute, используется для определения маршрута, который пакеты данных проходят от исходного узла до удаленного узла в сети. Однако tracepath работает без отправки пакетов с изменяемым TTL; вместо этого он анализирует ответы ICMP Time Exceeded от промежуточных маршрутизаторов. Это позволяет получить информацию о маршруте без необходимости отправки специальных пакетов и снижает нагрузку на сеть.
    
    Процедура выявления проблем происходит аналогично предыдущему пункту.
    

### Инструменты для проверки DNS

1. **host, nslookup, dig:**
    
    Следующие команды используются для разрешения имен хостов в IP-адреса и обратно.
    
    - `**host**`:
        - _Выявление IP-адреса по доменному имени:_ Команда `**host**` используется для определения IP-адреса, связанного с указанным доменным именем. Если не удается получить IP-адрес, это может свидетельствовать о проблемах в работе DNS-серверов.
    - `**nslookup**`:
        - _Проверка доступности DNS-сервера:_ `**nslookup**` может использоваться для проверки доступности и работоспособности DNS-сервера. Если запросы не отвечают, возможны проблемы с доступностью DNS-сервера.
    - `**dig**`:
        - _Детальное разрешение имени:_ `**dig**` предоставляет более подробную информацию о DNS-запросах. Может использоваться для проверки ответов от различных DNS-серверов и анализа записей.
    - **Проблемы, которые можно выявить:**
        - _Отсутствие DNS-записей:_ Если указанный домен не имеет соответствующих DNS-записей, команды могут вернуть ошибку или неопределенный результат.
        - _Проблемы с DNS-серверами:_ Если DNS-сервер не отвечает или возвращает ошибку, это может указывать на проблемы с инфраструктурой DNS.
2. **/etc/hosts:**
    
    В файле **`/etc/hosts`** хранятся локальные записи DNS-имен и соответствующих им IP-адресов.
    
    **Troubleshooting:**
    
    - **Неправильные записи:** Если записи в файле `**/etc/hosts**` указаны неверно, это может привести к неверному разрешению имен и, как следствие, к недоступности ресурсов.
    - **Дублирование записей:** Если есть дублирование записей для одного и того же имени хоста, это может вызвать непредсказуемое разрешение имени.
    - **Устаревшие записи:** Если IP-адреса узлов изменяются, а записи в файле `**/etc/hosts**` не обновляются соответственно, то возможностей для связи с узлами по старым адресам может не существовать.
    - **Отсутствие необходимых записей:** Если для какого-то ресурса нет записи в файле `**/etc/hosts**`, то может возникнуть проблема с его разрешением. Это может быть особенно важным при локальной разработке или тестировании.
    - **Проблемы с форматированием:** Неправильное форматирование файла, например, неправильное использование пробелов или табуляции, может привести к ошибкам разбора файла системой.
3. **/etc/resolv.conf:**
    
    Файл `**/etc/resolv.conf**` содержит информацию о DNS-серверах и настройках разрешения DNS.
    
    **Troubleshooting:**
    
    - **Неверные адреса DNS-серверов:** Если указанные адреса DNS-серверов неверны, это может привести к невозможности разрешения доменных имен.
    - **Отсутствие DNS-серверов:** Если файл не содержит записей `**nameserver**`, система не сможет выполнить разрешение доменных имен через DNS.
    - **Плохое соединение с DNS-серверами:** Если система не может связаться с указанными DNS-серверами из-за сетевых проблем или неправильных настроек сети, разрешение доменных имен также будет затруднено.
    - **Ошибка в синтаксисе файла:** Неправильный синтаксис или формат файла может привести к его нераспознаванию системой.
    - **Неавтоматическое обновление:** Если адреса DNS-серверов изменились, но файл `**/etc/resolv.conf**` не обновлен, это может вызвать проблемы с разрешением имен.
    - **Проблемы с правами доступа:** Некорректные права доступа к файлу могут затруднить его чтение системой.
    - **Использование устаревших методов:** В современных системах, особенно с использованием NetworkManager, файл `**/etc/resolv.conf**` может автоматически генерироваться и обновляться, и его редактирование вручную может привести к временным или постоянным проблемам.
4. **systemd-resolve —status:**
    
    Команда `**systemd-resolve --status**` предоставляет информацию о текущем состоянии системы относительно разрешения DNS и настроек сети. (У меня command not found)
    
    **Troubleshooting:**
    
    - **Информация о DNS-серверах:** Команда покажет, какие DNS-серверы в настоящее время используются системой для разрешения доменных имен. Если указанные DNS-серверы неверны или отсутствуют, это может быть причиной проблем с разрешением имен.
    - **Информация о соединении:** Вы увидите информацию о текущем соединении с DNS-серверами, включая статус и параметры соединения. Это позволит определить, есть ли проблемы с сетевым подключением к DNS-серверам.
    - **Сведения о префиксе DNS:** Если используется DNS-префикс, он также будет отображен, что может быть полезной информацией при диагностике сетевых проблем.
    - **Список доменных суффиксов:** Команда также выводит список доменных суффиксов, используемых для разрешения коротких доменных имен. Это также может помочь в определении проблем с разрешением имен.
    - **Информация о системных интерфейсах:** В выводе команды может содержаться информация о системных интерфейсах и их текущем состоянии, что также может быть полезно при диагностике проблем с сетью.

### Инструменты для проверки портов

1. **ss -tulpn** и **netstat -tulpn:**
    
    Команды `**ss -tulpn**` и `**netstat -tulpn**` используются для вывода списка активных сетевых соединений, прослушивающих портов и соответствующих им программ (или служб) в системе. Они позволяют увидеть, какие приложения или службы активно взаимодействуют через сетевые порты, и определить, какие порты используются на компьютере. Это может быть полезным для отладки сетевых проблем, определения неиспользуемых или неожиданных портов, а также для обнаружения подозрительной сетевой активности.
    
    Обе команды предоставляют схожую информацию, но `**ss**` считается более современной и эффективной альтернативой `**netstat**`, особенно в современных версиях Linux.
    
    **Troubleshooting:**
    
    - **Проверить прослушиваемые порты**: Обратите внимание на порты, которые прослушиваются (LISTEN) и соответствующие им программы или службы. Убедитесь, что необходимые порты для вашего приложения или службы открыты и прослушиваются.
    - **Проверить PID (идентификатор процесса)**: Убедитесь, что PID, указанный рядом с прослушиваемым портом, соответствует ожидаемому процессу. Это может помочь в определении, какое приложение или служба прослушивает данный порт.
    - **Проверить неиспользуемые порты**: Обратите внимание на порты, которые не используются (не прослушиваются) и программа, которая привязана к этому порту. Если порт не используется, это может указывать на проблему с конфигурацией или безопасностью.
    - **Проверить состояние соединений**: Просмотрите состояние активных соединений, чтобы убедиться, что они находятся в ожидаемом состоянии (например, ESTABLISHED, SYN_SENT, CLOSE_WAIT и т. д.). Некорректные состояния соединений могут указывать на проблемы с сетью или конфигурацией программы.
2. **lsof -i -P -n:**
    
    Команда `**lsof -i -P -n**` используется для вывода списка открытых файлов (включая сетевые соединения) на компьютере. Она позволяет просмотреть список активных сетевых соединений и узнать, какие процессы или программы их управляют. Флаги `**-i**`, `**-P**` и `**-n**` указывают `**lsof**` показывать только сетевые соединения (`**-i**`), отключить преобразование портов в имена служб (`**-P**`), а также отключить преобразование IP-адресов в имена хостов (`**-n**`).
    
3. **firewall-cmd —list-all:**
    
    Команда `**firewall-cmd --list-all**` используется для вывода полной информации о текущих настройках и конфигурации брандмауэра firewalld на системе. Она показывает все правила, зоны, интерфейсы и другие параметры, определенные в брандмауэре, что помогает администраторам контролировать доступ и безопасность сети, а также управлять настройками брандмауэра.
    
4. **iptables -L:**
    
    Команда `**iptables -L**` предназначена для отображения текущих правил брандмауэра, установленных в системе. Вывод команды покажет таблицы, цепочки и политики безопасности для фильтрации пакетов. Это полезная команда для администраторов систем, которые хотят просмотреть текущее состояние правил iptables и оценить, какие пакеты принимаются, отбрасываются или перенаправляются в системе.
    
5. **curl:**
    
    Команда `**curl**` в Linux предназначена для отправки и получения данных с серверов по протоколам HTTP, HTTPS, FTP и многим другим. Она позволяет выполнять различные HTTP-запросы, такие как GET, POST, PUT, DELETE и другие, и получать ответы от удаленных серверов. `**curl**` может использоваться для тестирования веб-серверов, загрузки файлов, выполнения HTTP-запросов из скриптов или командной строки, а также для отладки сетевых соединений.
    
    С помощью опций `**curl**`, таких как `**-v**` (verbose) или `**--trace**`, можно получить подробную отладочную информацию о процессе выполнения запроса, включая заголовки запроса и ответа, информацию о передаче данных и коды статуса HTTP. Это помогает идентифицировать проблемы с сетевыми запросами, настраивать заголовки запросов и анализировать ответы серверов для отладки и тестирования веб-приложений.
    
6. **telnet:**
    
    Команда `**telnet**` предоставляет возможность установить сетевое соединение с удаленным сервером по протоколам TCP или UDP. Это позволяет проверить доступность сервера и порта, а также выполнить взаимодействие с удаленным сервером напрямую из командной строки. При использовании `**telnet**` указывается адрес удаленного сервера и номер порта. После подключения к серверу пользователь может отправлять команды и просматривать ответы для тестирования работы сетевого сервиса.

<div class="page-break" style="page-break-before: always;"></div>
