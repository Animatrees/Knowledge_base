Переменная context в функции render

Обращение к данным из context в шаблоне

Типы данных, передаваемые через context

Типы данных, которые нельзя передать

### **Переменная context в функции render**

- Переменная `context` в функции `render` отвечает за передачу данных из представления в шаблон.
- Она представляет собой объект, похожий на словарь, сопоставляющий ключи со значениями.
- Эти значения становятся доступными в шаблоне для использования при рендеринге HTML.

### **Обращение к данным из context в шаблоне**

- Для доступа к данным из `context` в шаблоне используются двойные фигурные скобки {{ }}.
- Внутри фигурных скобок указывается ключ, соответствующий значению в `context`.
- Нельзя указать сразу несколько значений внутри фигурных скобок (в том числе через запятую).
- Пробелы внутри фигурных скобок игнорируются и используются только для более удобного визуального форматирования.

**Пример:**

```Python
def my_view(request):
    name = 'John'
    age = 30
    context = {'name': name, 'age': age}
    return render(request, 'my_template.html', context=context)
```

**Шаблон**:

```HTML
<p>Name: {{ name }}, Age: {{ age }}</p>
```

### **Типы данных, передаваемые через context**

- **Простые значения:** строки, числа, булевы значения и т.д.
- **Сложные типы:** словари, списки, объекты и т.д.

**Обращение к элементам коллекций (через точку):**

- **Словари:** доступ к значениям по ключу. Важно помнить, что нельзя обращаться к ключу, используя следующий синтаксис - `dct[’key’]`, это приведёт к ошибке - `TemplateSyntaxError`. Корректным обращением будет - `dct.key`.
- **Списки:** доступ к элементам по индексу или с помощью цикла `for`. Аналогично предыдущему пункту, не использовать обращение по индексу через квадратные скобки - `lst[0]`, использовать обращение через точку - `lst.0`.
- **Объекты:** доступ к атрибутам.
- **Методы объектов:** внутри шаблона можно обратиться к методу объекта, но при этом не нужно указывать круглые скобки для вызова этого метода.

**Пример:**

```Python
class Person:
	def __init__(self, name, age, city):
		self.name = name
		self.age = age
		self.city = city

def get_info(self):
	return f'{self.age}, {self.city}'


def my_view(request):
    person = Person('Alice', 25, 'Wonderland')
    return render(request, 'my_template.html', context=person)
```

**Шаблон**:

```HTML
<p>Name: {{ person.name }}, Info: {{ person.get_info }}</p>
```

### **Типы данных, которые нельзя передать**

- Не сериализуемые объекты (например, функции, файлы).
    
    **Не сериализуемые объекты** - это объекты, которые не могут быть преобразованы в форму, подходящую для передачи или сохранения, например, в виде строки JSON или XML. Это может быть вызвано различными причинами:
    
    1. **Ссылки на функции или методы:** Функции и методы не могут быть преобразованы в форму данных, которая может быть сохранена или передана, потому что они представляют код, который нужно интерпретировать, а не простые данные.
    2. **Объекты с состоянием:** Некоторые объекты имеют состояние, которое не может быть адекватно представлено в форме данных, например, экземпляры классов с несериализуемыми атрибутами или методами, которые содержат ссылки на другие объекты.
    3. **Рекурсивные или циклические ссылки:** Если объекты ссылаются друг на друга в рекурсивной или циклической структуре, то сериализация таких объектов может вызвать бесконечную рекурсию и привести к ошибке или зависанию.

<div class="page-break" style="page-break-before: always;"></div>
