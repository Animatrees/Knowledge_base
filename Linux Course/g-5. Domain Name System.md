Naming

Domain Name

Tools

### Naming

**Имя хоста** (hostname) - это уникальное имя, идентифицирующее конкретное устройство в сети.

1. **Конфигурация хоста:**
    - Имя хоста может быть установлено при установке операционной системы или изменено впоследствии.
    - Для просмотра или редактирования текущего имени хоста используется команда `**hostname**`.
2. **Файл /etc/hostname:**
    - В большинстве дистрибутивов Linux имя хоста также хранится в файле `**/etc/hostname**`.
    - Чтобы изменить или просмотреть содержимое этого файла можно использовать текстовый редактор, такой как `**nano**` или `**vi**`.

**Разрешение имен** (Name Resolution) - это процесс преобразования человекочитаемых имен хостов в их соответствующие IP-адреса.

1. Файл `**/etc/hosts**` содержит локальные записи, сопоставляющие имена хостов с IP-адресами. При запросе соединения с хостом, операционная система сначала проверяет этот файл на наличие записи для запрошенного имени. Если в файле `**/etc/hosts**` найдена соответствующая запись, операционная система использует указанный IP-адрес для связи.
    - Чтобы добавить новую запись в файл `**/etc/hosts**`, откройте файл с правами администратора в текстовом редакторе, затем на новой строке укажите IP-адрес, за которым следует имя хоста, разделенное пробелом или табуляцией. Сохраните изменения, закройте редактор и новая запись будет применена.
2. Файл `**/etc/resolv.conf**` содержит конфигурацию DNS-клиента, включая DNS-серверы, которые нужно использовать для разрешения имен хостов. При запросе имени хоста, если запись не найдена в файле `**/etc/hosts**`, операционная система обращается к DNS-серверам, указанным в файле `**/etc/resolv.conf**`, и запрашивает соответствующий IP-адрес для запрошенного имени хоста.
    - Для добавления новой записи в файл `**/etc/resolv.conf**`, откройте файл с правами администратора в текстовом редакторе, например, затем на новой строке добавьте строку `**nameserver**`, за которой следует IP-адрес DNS-сервера. Сохраните изменения, закройте редактор, и новая запись будет применена. Если вы хотите добавить несколько DNS-серверов, укажите каждый из них на отдельной строке, начиная с ключевого слова `**nameserver**`.

Строка `**hosts**` в файле `**/etc/nsswitch.conf**` определяет порядок приоритета источников информации о хостах при их разрешении. По умолчанию поиск происходит сперва в локальном файле /etc/hosts, а затем, если запись не найдена, в DNS-серверах. Этот порядок можно изменить.

### Domain Name

**Доменное имя** - это уникальное человекочитаемое представление IP-адреса компьютера или устройства в сети интернет. Оно используется для идентификации и адресации ресурсов в сети, таких как веб-сайты, почтовые серверы и другие службы.

Структура доменного имени представляет собой иерархическую систему, в которой каждый уровень разделяется точкой. Общая структура выглядит следующим образом:

`**mail.google.com**`

В этом примере:

- `**mail**` - это поддомен, который может быть указан для организации иерархии внутри основного домена.
- `**google**` - это имя домена, которое является уникальным именем, зарегистрированным в Интернете.
- `**.com**` - это домен верхнего уровня (TLD, Top-Level Domain), который указывает на общую категорию организации или страну.

Несколько популярных доменов верхнего уровня:

1. **.com** - оригинально предназначался для коммерческих организаций, но теперь широко используется для любых типов сайтов.
2. **.org** - изначально предназначался для некоммерческих организаций, фондов и сообществ, но также используется для широкого спектра сайтов.
3. **.net** - изначально ассоциировался с сетями и поставщиками интернет-услуг, но теперь также используется для различных сайтов.
4. **.gov** - зарезервирован для правительственных организаций США.
5. **.edu** - зарезервирован для образовательных учреждений.
6. **.info** - используется для информационных ресурсов и сайтов.
7. **.biz** - изначально создавался для бизнес-центрированных сайтов, но теперь используется для широкого спектра целей.
8. **.co** - изначально ассоциировался с коммерцией, но стал популярным для использования в доменных именах во многих различных областях.
9. **.io** - изначально ассоциировался с Британским территориальным островом Индийского океана, но теперь часто используется в технических и стартап-средах.
10. **.ru**, **.uk**, **.de**, **.jp**, **.cn** и т.д. - коды верхнего уровня (ccTLD), связанные с различными странами.

Процесс разрешения доменного имени, также известный как процесс DNS-запроса, включает несколько этапов:

1. **Локальный кэш DNS**: Если ранее был выполнен запрос для этого доменного имени, ответ может быть найден в локальном кэше DNS, что позволяет избежать повторного запроса к удаленному DNS-серверу.
2. **Запрос к рекурсивному DNS-серверу**: Если информация не найдена в локальном кэше, компьютер отправляет запрос на рекурсивный DNS-сервер. Этот DNS-сервер обычно предоставляется интернет-провайдером. Рекурсивный сервер может иметь информацию в своем кэше или запросит ее у других DNS-серверов.
3. **Запрос к авторитетному DNS-серверу**: Если информация не найдена на рекурсивном сервере или в его кэше, он отправит запрос к авторитетному DNS-серверу, ответственному за домен верхнего уровня (TLD) этого доменного имени.
4. **Запрос к DNS-серверу второго уровня**: Авторитетный сервер может ответить с информацией о DNS-серверах второго уровня для конкретного домена. Рекурсивный сервер отправит запрос к одному из этих серверов.
5. **Запрос к DNS-серверу третьего уровня**: DNS-сервер второго уровня может предоставить информацию о конкретном IP-адресе, связанном с запрашиваемым доменом.
6. **Ответ**: Рекурсивный DNS-сервер передает ответ компьютеру, и компьютер может использовать полученный IP-адрес для установления соединения с запрашиваемым хостом по сети.

Добавление строки "search <name>" в файл **`/etc/resolv.conf`** указывает системе на то, что если введенный пользователем доменный запрос не является полным доменным именем, то нужно добавить указанное значение к запросу и повторить поиск.

Это обеспечивает удобство при использовании коротких имен хостов в локальной сети. Например, если у вас есть домен [example.com](http://example.com/) и вы добавили строку "search [example.com](http://example.com/)" в **`/etc/resolv.conf`**, то запрос "server" будет интерпретирован как "[server.example.com](http://server.example.com/)", что облегчит доступ к ресурсам внутри сети без необходимости вводить полные доменные имена.

В DNS существуют различные типы записей, каждая из которых выполняет определенные функции. Некоторые из наиболее распространенных типов записей DNS включают:

1. **A (Address) Record**: Эта запись соотносит доменное имя с IPv4-адресом. Используется для определения IP-адреса хоста.
2. **AAAA (IPv6 Address) Record**: Эта запись аналогична A-записи, но используется для связывания доменного имени с IPv6-адресом.
3. **CNAME (Canonical Name) Record**: Эта запись создает псевдоним (алиас) для доменного имени. Он используется для перенаправления одного доменного имени на другое.

### Tools

1. **nslookup**:
    
    Это классическая утилита для выполнения DNS-запросов. Она позволяет пользователю выполнять запросы DNS для получения информации о доменных именах и их связанных записях.
    
2. **dig (domain information groper)**:
    
    Это более мощная и гибкая утилита для выполнения DNS-запросов. Она предоставляет более подробную информацию о DNS-записях, чем `**nslookup**`, и позволяет выполнять различные типы запросов.
    
3. **host**:
    
    Еще одна команда для выполнения DNS-запросов. Она обычно используется для определения IP-адреса и доменного имени, а также для получения различной информации о домене.

<div class="page-break" style="page-break-before: always;"></div>

