### Основные термины

**Интерфейс** это точка взаимодействия устройства с сетью. Это может быть физическое устройство, такое как сетевая карта, предоставляющая физическое соединение, или логическое программное представление этого соединения. Интерфейс определяет, как устройство взаимодействует с сетью, включая протоколы, адреса и параметры сетевого подключения. Логические интерфейсы могут быть созданы для поддержки виртуализации или дополнительных функций, а устройства могут иметь различные интерфейсы для различных типов сетевого взаимодействия, таких как Ethernet, Wi-Fi или виртуальные сетевые соединения.

**Коммутатор (или switch)** представляет собой устройство, используемое для соединения компьютеров и других сетевых устройств в локальной сети (LAN). Он работает на канальном уровне модели OSI и способен обнаруживать MAC-адреса устройств в сети.

Когда устройство отправляет пакет данных в сеть, коммутатор анализирует MAC-адрес (физический адрес) назначения в этом пакете. Вместо того чтобы широковещательно отправлять пакеты на все порты, как это делает хаб, коммутатор принимает решение на основе анализа адреса и отправляет пакет только на тот порт, к которому фактически подключено устройство-получатель, имеющее соответствующий MAC-адрес. Это повышает эффективность передачи данных в сети, так как лишние пакеты не пересылаются на все устройства, а доставляются только тем, для кого они предназначены.

Коммутаторы обеспечивают высокую пропускную способность, снижают коллизии и повышают общую производительность локальных сетей.

**Маршрутизатор**, также известный как роутер, представляет собой сетевое устройство, используемое для передачи данных между различными сетями. Он работает на сетевом уровне модели OSI и принимает решения о передаче данных на основе информации в заголовках сетевых пакетов. Маршрутизатор определяет наилучший путь для доставки пакетов от отправителя к получателю, учитывая информацию о сетевых адресах. Он способен соединять локальные сети и интернет, обеспечивая маршрутизацию данных между ними. Маршрутизаторы также выполняют функции преобразования протоколов, брандмауэра и обеспечивают сетевую безопасность, контролируя трафик и фильтруя пакеты данных.

**Шлюз** (или gateway) представляет собой устройство или программное обеспечение, обеспечивающее связь и маршрутизацию данных между различными сетями. Шлюз выполняет роль посредника, перенаправляя трафик между локальной сетью и другими сетями, включая интернет. Он является важным компонентом для обеспечения взаимодействия между различными сетевыми протоколами и форматами данных. Шлюзы могут также выполнять функции трансляции сетевых адресов (NAT), предоставлять безопасность сети, а также фильтровать и контролировать поток данных. Шлюзы часто используются для связи локальных сетей с глобальной инфраструктурой сети, обеспечивая устройствам доступ к внешним сетям и ресурсам.

**Примерный процесс создания сети по этапам:**

1. Подключение систем к коммутатору (свичу):
    - Системы подключаются к портам коммутатора при помощи сетевых кабелей.
    - Каждое устройство имеет уникальный MAC-адрес.
2. Выдача IP-адресов:
    - Устройствам присваиваются статические IP-адреса в пределах одной подсети.
        
        1. Команда `**ip link**` используется для отображения и управления сетевыми интерфейсами. Выводит информацию о состоянии всех сетевых интерфейсов на устройстве, такую как имя интерфейса, MAC-адрес, тип интерфейса и состояние (включен или выключен).
        2. Команда `**ip addr**` используется для отображения и управления IP-адресами на сетевых интерфейсах. Выводит информацию о текущих IP-адресах на всех интерфейсах, включая адрес, маску подсети и статус.
        3. Команда `**ip addr add <ip_address>/<subnet_mask> dev <interface_name>**` используется для добавления IP-адреса к сетевому интерфейсу. Позволяет задать IP-адрес, маску подсети и другие параметры для конкретного интерфейса.
        
        Для сохранения изменений их нужно добавить в файл /etc/network/interfaces.
        
3. Связывание локальных сетей маршрутизатором:
    - Выходные порты коммутаторов соединяются с портами на роутере при помощи сетевых кабелей.
    - Роутер настраивается для маршрутизации трафика между двумя локальными сетями.
4. Добавление адреса шлюза:
    
    - Устройства в каждой локальной сети настраиваются с использованием IP-адреса роутера в качестве шлюза по умолчанию.
    
    1. Команда `**route**` используется для вывода и редактирования таблицы маршрутизации.
        - `**route -n**` для вывода таблицы маршрутизации в числовом формате.
    2. Команда `**ip route add ...**` используется для добавления новых маршрутов в таблицу маршрутизации.
        - **Пример использования:** `**ip route add 192.168.2.0/24 via 192.168.1.1 dev eth0**` для добавления маршрута к сети `**192.168.2.0/24**` через шлюз `**192.168.1.1**` по интерфейсу `**eth0**`.
    3. Команда `**ip route add default ...**` используется для установки маршрута по умолчанию (шлюза).
        - **Пример использования:** `**ip route add default via 192.168.1.1**` для установки шлюза по умолчанию на `**192.168.1.1**`.

**Описание итоговой сети:**

1. **Система 1 - 192.168.1.10 и Система 2 - 192.168.1.11:**
    - Обе системы подключены к первому коммутатору - 192.168.1.0.
    - Коммутатор выполняет функцию передачи данных внутри своей локальной сети.
    - Системы 1 и 2 могут обмениваться данными напрямую через этот коммутатор.
2. **Система 3 - 192.168.2.10 и Система 4 - 192.168.2.11:**
    - Обе системы подключены ко второму коммутатору - 192.168.2.0.
    - Этот коммутатор также выполняет функцию передачи данных внутри своей локальной сети.
    - Системы 3 и 4 могут обмениваться данными напрямую через этот коммутатор.
3. **Роутеры:**
    
    - Оба коммутатора соединены с роутером (192.168.1.1 и 192.168.2.2).
    - Роутер между собой обеспечивает маршрутизацию данных между двумя локальными сетями, создавая связь между системами 1 и 2 с одной стороны и системами 3 и 4 с другой.
    - Второй роутер - 192.168.2.1 обеспечивает выход в интернет для систем 3 и 4.
<div class="page-break" style="page-break-before: always;"></div>
