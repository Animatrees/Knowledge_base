Finally!))

[![](https://www.git-tower.com/learn/media/pages/git/ebook/en/command-line/remote-repositories/introduction/ca91d7d832-1697824976/basic-remote-workflow.png)](https://www.git-tower.com/learn/media/pages/git/ebook/en/command-line/remote-repositories/introduction/ca91d7d832-1697824976/basic-remote-workflow.png)

Git предоставляет мощные инструменты для совместной разработки, позволяя нескольким разработчикам работать над одним и тем же кодом. Для этого используются удаленные репозитории, обычно расположенные на серверах вроде GitHub, GitLab или Bitbucket.

### Управление удаленными репозиториями (remotes)

Для начала нужно добавить удаленный репозиторий к своему локальному проекту:

```Shell
git remote add origin <url>
```

Эта команда создает удаленную ссылку с сокращением "origin" на указанный URL-адрес. По соглашению origin используется как сокращение для основного репозитория проекта. Чтобы получить url адрес репозитория - создаём его, например, на github.

Команда `git remote -v` используется для вывода списка удаленных репозиториев, связанных с вашим локальным репозиторием, а также их URL-адресов.

### Получение изменений из удаленного репозитория (git fetch/pull)

В процессе разработки, вероятно, другие разработчики также внесут изменения в тот же удаленный репозиторий. Получить эти изменения в локальный репозиторий можно двумя способами:

[![](https://marketsplash.com/content/images/2023/10/mermaid-diagram-2023-10-08-224110.png)](https://marketsplash.com/content/images/2023/10/mermaid-diagram-2023-10-08-224110.png)

1. `git fetch` - получить изменения с удаленного репозитория без их автоматического слияния с вашими локальными изменениями.
    
    ```Shell
    # скачивает обновления для всех удалённых веток в связанные с ними локальные ветки
    git fetch
    
    # скачиваем обновления из удалённой ветки main в локальную ветку origin/main, при этом локальная ветка main остаётся без изменений
    git fetch origin main
    
    # скачиваем обновления из удалённой ветки - источника, в любую локальную ветку - получатель
    git fetch origin <источник>:<получатель>
    ```
    
    После этого вы можете просмотреть новые ветки или изменения в существующих.
    
2. `git pull` - получить изменения с удаленного репозитория и автоматически слить их с вашими локальными изменениями.
    
    ```Shell
    git pull origin foo 
    # это то же самое, что сделать:
    git fetch origin foo; git merge o/foo
    ```
    

### Отправка изменений на удаленный репозиторий (git push)

После внесения коммитов в локальную ветку, их можно отправить на удаленный репозиторий:

```Shell
git push
```

Эта команда определяет для текущей локальной ветки связанную с ней удалённую ветку и выгружает в неё изменения.

Однако, можно выгружать конкретные ветки без предварительного перехода в них.

```Shell
git push origin master

# или даже так 
git push origin <источник>:<получатель> # при этом если ветка-получатель не существует, она будет создана!
```

Эта команда отправляет локальную ветку master в ветку master удаленного репозитория origin.

Для новой ветки нужно дополнительно указать флаг `-u`, чтобы связать ее с удаленным репозиторием. Далее можно будет использовать сокращенную команду git push.

В случае, когда удалённый репозиторий был изменён, пока мы работали над новой функциональностью локально, у нас не получится выполнить push, а потребуется решить проблему конфликтов.

**Способы разрешения конфликтов при выгрузке изменений:**

1. **git fetch + git rebase + git push или git pull --rebase + git push**
    - Выгружает изменения из удаленного репозитория, затем использует `git rebase` для перемещения ваших локальных коммитов поверх обновленной истории из удаленного репозитория, разрешая конфликты при необходимости. После этого изменения могут быть безопасно выгружены в удаленный репозиторий с помощью `git push`.
    - Этот метод предпочтителен, когда вы хотите сохранить чистую историю коммитов без лишних слияний.
2. **git fetch + git merge + git push или git pull + git push**:
    - Выгружает изменения из удаленного репозитория, затем использует `git merge` для объединения этих изменений с вашей локальной веткой. При возникновении конфликтов вы должны разрешить их и сделать коммит. Затем изменения могут быть выгружены в удаленный репозиторий с помощью `git push`.
    - Этот метод прост в использовании, но может привести к ненужным слияниям и усложнению истории коммитов.

### Управление ветками на удаленном репозитории

Git позволяет управлять не только локальными, но и удаленными ветками.

1. **Удаление удаленной ветки**:
    
    ```Shell
    git push origin --delete branch_name
    ```
    
    Эта команда удаляет удаленную ветку с именем `branch_name` из удаленного репозитория `origin`.
    
2. **Отправка локальной ветки на удаленный репозиторий**:
    
    ```Shell
    git push -u origin branch_name
    ```
    
    Эта команда отправляет локальную ветку `branch_name` на удаленный репозиторий `origin` и устанавливает отслеживание для этой ветки.
    
3. Создание локальной ветки и подключение для неё отслеживаемой удалённой ветки:
    
    ```Shell
    git checkout -b <local_branch_name> <origin/branch_name>
    ```
    
    - Создает новую локальную ветку с именем `<local_branch_name>`.
    - Устанавливает эту ветку так, чтобы она отслеживала удаленную ветку с именем `<origin/branch_name>`, то есть ветку в удаленном репозитории.
    
    Эта команда удобна, когда вы хотите создать новую локальную ветку на основе удаленной ветки и начать работать с ней.
    
4. **Отслеживание удаленной ветки для локальной**:
    
    ```Shell
    git branch -u <origin/branch_name> <local_branch_name>
    ```
    
    Эта команда устанавливает отслеживание локальной ветки для удаленной ветки `origin/branch_name`. Это означает, что локальная ветка будет отслеживать удаленную ветку и будет автоматически синхронизироваться с ней при выполнении операций, таких как `git pull` или `git push`. Если вы находитесь в момент связывания в локальной ветке, можно не указывать её имя в команде.
    
5. **Переименование удаленной ветки**:
    
    ```Shell
    git push origin :old_name new_name
    ```
    
    Эта команда удаляет удаленную ветку `old_name` из удаленного репозитория `origin` и создает новую ветку `new_name`.
    
6. **Просмотр веток:**
    - Когда вы выполняете команду `git branch -a`, Git отображает список всех веток, как локальных, так и удаленных.
    - Когда вы выполняете команду `git branch -vv`, Git отображает список всех ваших локальных веток с дополнительной информацией о том, какие удаленные ветки они отслеживают и состоянии синхронизации.

Таким образом, с помощью команд git push, pull, fetch и remote вы можете эффективно синхронизировать изменения между локальным и удаленными репозиториями, обеспечивая согласованность кода при командной разработке. Управление ветками на удаленных репозиториях позволяет поддерживать актуальные ссылки на код коллег.
<div class="page-break" style="page-break-before: always;"></div>